Mario.BackgroundRenderer=function(e,i,t,r){this.Level=e,this.Width=i,this.Distance=r,this.TilesY=1+(t/32|0),this.Background=Mario.SpriteCuts.GetBackgroundSheet()},Mario.BackgroundRenderer.prototype=new Enjine.Drawable,Mario.BackgroundRenderer.prototype.Draw=function(e,i){for(var t,r,n=i.X/this.Distance,o=0,a=0,s=n/32|0,h=(n+this.Width)/32|0,o=s;o<=h;o++)for(a=0;a<this.TilesY;a++)t=255&this.Level.GetBlock(o,a),r=this.Background[t%8][t/8|0],e.drawImage(Enjine.Resources.Images.background,r.X,r.Y,r.Width,r.Height,(o<<5)-n|0,a<<5|0,r.Width,r.Height)};