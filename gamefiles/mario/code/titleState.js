Mario.TitleState=function(){this.drawManager=null,this.camera=null,this.logoY=null,this.bounce=null,this.font=null},Mario.TitleState.prototype=new Enjine.GameState,Mario.TitleState.prototype.Enter=function(){this.drawManager=new Enjine.DrawableManager,this.camera=new Enjine.Camera;var e=new Mario.BackgroundGenerator(2048,15,!0,Mario.LevelType.Overground),t=new Mario.BackgroundRenderer(e.CreateLevel(),320,240,2);e.SetValues(2048,15,!1,Mario.LevelType.Overground);var a=new Mario.BackgroundRenderer(e.CreateLevel(),320,240,1);this.title=new Enjine.Sprite,this.title.Image=Enjine.Resources.Images.title,this.title.X=0,this.title.Y=120,this.logo=new Enjine.Sprite,this.logo.Image=Enjine.Resources.Images.logo,this.logo.X=0,this.logo.Y=0,this.font=Mario.SpriteCuts.CreateRedFont(),this.font.Strings[0]={String:"Press S to Start",X:96,Y:120},this.logoY=20,this.drawManager.Add(t),this.drawManager.Add(a),this.bounce=0,Mario.GlobalMapState=new Mario.MapState,Mario.MarioCharacter=new Mario.Character,Mario.MarioCharacter.Image=Enjine.Resources.Images.smallMario,Mario.PlayTitleMusic()},Mario.TitleState.prototype.Exit=function(){Mario.StopMusic(),this.drawManager.Clear(),delete this.drawManager,delete this.camera,delete this.font},Mario.TitleState.prototype.Update=function(e){this.bounce+=2*e,this.logoY=20+10*Math.sin(this.bounce),this.camera.X+=25*e,this.drawManager.Update(e)},Mario.TitleState.prototype.Draw=function(e){this.drawManager.Draw(e,this.camera),e.drawImage(Enjine.Resources.Images.title,0,120),e.drawImage(Enjine.Resources.Images.logo,0,this.logoY),this.font.Draw(e,this.Camera)},Mario.TitleState.prototype.CheckForChange=function(e){Enjine.KeyboardInput.IsKeyDown(Enjine.Keys.S)&&e.ChangeState(Mario.GlobalMapState)};